--insert 
DECLARE
  PIP_ADDRESS VARCHAR2(255);
  PID_COMMUTATOR_TYPE NUMBER;
  PV_DESCRTIPTION VARCHAR2(255);
  PB_DELETED NUMBER;
  PV_MAC_ADDRESS VARCHAR2(64);
  PV_COMMUNITY_READ VARCHAR2(64);
  PV_COMMUNITY_WRITE VARCHAR2(64);
  PREMOTE_ID VARCHAR2(255);
  PB_NEED_CONVERT_HEX NUMBER;
  PREMOTE_ID_HEX VARCHAR2(255);
  PACTION CHAR(200);
BEGIN
  PIP_ADDRESS := '192.168.2.0';
  PID_COMMUTATOR_TYPE := 1;
  PV_DESCRTIPTION := 'ыфвв';
  PB_DELETED := 0;
  PV_MAC_ADDRESS := '23454';
  PV_COMMUNITY_READ := '2';
  PV_COMMUNITY_WRITE := '1';
  PREMOTE_ID := '23';
  PB_NEED_CONVERT_HEX := 0;
  PREMOTE_ID_HEX := NULL;
  PACTION := 'c';

  SAVECOMMUTATOR(
    PIP_ADDRESS => PIP_ADDRESS,
    PID_COMMUTATOR_TYPE => PID_COMMUTATOR_TYPE,
    PV_DESCRTIPTION => PV_DESCRTIPTION,
    PB_DELETED => PB_DELETED,
    PV_MAC_ADDRESS => PV_MAC_ADDRESS,
    PV_COMMUNITY_READ => PV_COMMUNITY_READ,
    PV_COMMUNITY_WRITE => PV_COMMUNITY_WRITE,
    PREMOTE_ID => PREMOTE_ID,
    PB_NEED_CONVERT_HEX => PB_NEED_CONVERT_HEX,
    PREMOTE_ID_HEX => PREMOTE_ID_HEX,
    PACTION => PACTION
  );
--rollback; 
END;
--update table
DECLARE
  PIP_ADDRESS VARCHAR2(255);
  PID_COMMUTATOR_TYPE NUMBER;
  PV_DESCRTIPTION VARCHAR2(255);
  PB_DELETED NUMBER;
  PV_MAC_ADDRESS VARCHAR2(64);
  PV_COMMUNITY_READ VARCHAR2(64);
  PV_COMMUNITY_WRITE VARCHAR2(64);
  PREMOTE_ID VARCHAR2(255);
  PB_NEED_CONVERT_HEX NUMBER;
  PREMOTE_ID_HEX VARCHAR2(255);
  PACTION CHAR(200);
BEGIN
  PIP_ADDRESS := '192.168.2.0';
  PID_COMMUTATOR_TYPE := 3;
  PV_DESCRTIPTION := 'привет я кот';
  PB_DELETED := 0;
  PV_MAC_ADDRESS := '23454';
  PV_COMMUNITY_READ := '1';
  PV_COMMUNITY_WRITE := '0';
  PREMOTE_ID := '42';
  PB_NEED_CONVERT_HEX := 0;
  PREMOTE_ID_HEX := NULL;
  PACTION := 'u';

  SAVECOMMUTATOR(
    PIP_ADDRESS => PIP_ADDRESS,
    PID_COMMUTATOR_TYPE => PID_COMMUTATOR_TYPE,
    PV_DESCRTIPTION => PV_DESCRTIPTION,
    PB_DELETED => PB_DELETED,
    PV_MAC_ADDRESS => PV_MAC_ADDRESS,
    PV_COMMUNITY_READ => PV_COMMUNITY_READ,
    PV_COMMUNITY_WRITE => PV_COMMUNITY_WRITE,
    PREMOTE_ID => PREMOTE_ID,
    PB_NEED_CONVERT_HEX => PB_NEED_CONVERT_HEX,
    PREMOTE_ID_HEX => PREMOTE_ID_HEX,
    PACTION => PACTION
  );
--rollback; 
END;

--get

DECLARE
  PIP_ADDRESS VARCHAR2(255);
  PV_MAC_ADDRESS VARCHAR2(64);
  DWR SYS_REFCURSOR;
BEGIN
  PIP_ADDRESS := '192.168.2.0';
  PV_MAC_ADDRESS := NULL;

  GETCOMMUTATOR(
    PIP_ADDRESS => PIP_ADDRESS,
    PV_MAC_ADDRESS => PV_MAC_ADDRESS,
    DWR => DWR
  );
  /* Legacy output: 
DBMS_OUTPUT.PUT_LINE('DWR = ' || DWR);
*/ 
  :DWR := DWR; --<-- Cursor
--rollback; 
END;

--delete 

DECLARE
  PIP_ADDRESS VARCHAR2(255);
  PID_COMMUTATOR_TYPE NUMBER;
  PV_DESCRTIPTION VARCHAR2(255);
  PB_DELETED NUMBER;
  PV_MAC_ADDRESS VARCHAR2(64);
  PV_COMMUNITY_READ VARCHAR2(64);
  PV_COMMUNITY_WRITE VARCHAR2(64);
  PREMOTE_ID VARCHAR2(255);
  PB_NEED_CONVERT_HEX NUMBER;
  PREMOTE_ID_HEX VARCHAR2(255);
  PACTION CHAR(200);
BEGIN
  PIP_ADDRESS := '192.168.2.0';
  PID_COMMUTATOR_TYPE := NULL;
  PV_DESCRTIPTION := NULL;
  PB_DELETED := NULL;
  PV_MAC_ADDRESS := NULL;
  PV_COMMUNITY_READ := NULL;
  PV_COMMUNITY_WRITE := NULL;
  PREMOTE_ID := NULL;
  PB_NEED_CONVERT_HEX := NULL;
  PREMOTE_ID_HEX := NULL;
  PACTION := 'd';

  SAVECOMMUTATOR(
    PIP_ADDRESS => PIP_ADDRESS,
    PID_COMMUTATOR_TYPE => PID_COMMUTATOR_TYPE,
    PV_DESCRTIPTION => PV_DESCRTIPTION,
    PB_DELETED => PB_DELETED,
    PV_MAC_ADDRESS => PV_MAC_ADDRESS,
    PV_COMMUNITY_READ => PV_COMMUNITY_READ,
    PV_COMMUNITY_WRITE => PV_COMMUNITY_WRITE,
    PREMOTE_ID => PREMOTE_ID,
    PB_NEED_CONVERT_HEX => PB_NEED_CONVERT_HEX,
    PREMOTE_ID_HEX => PREMOTE_ID_HEX,
    PACTION => PACTION
  );
--rollback; 
END;
